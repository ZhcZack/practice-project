{"version":3,"sources":["webpack:///main.js","webpack:///webpack/bootstrap 72fd37eafd110b744649","webpack:///./src/view/custom_view.ts","webpack:///./src/util/util.ts","webpack:///./src/main.ts","webpack:///./src/model/todo_app.ts","webpack:///./src/view/todo_list_view.ts","webpack:///./src/view/todo_area_view.ts","webpack:///./src/view/todo_detail_view.ts","webpack:///./src/model/todo_server.ts","webpack:///./src/model/todo_list_model.ts","webpack:///./src/model/todo_item_model.ts","webpack:///./src/model/todo_item.ts"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","CustomView","CustomNewList","this","defaultListName","index","setup","bindEvents","div","document","createElement","textContent","id","element","_this","addEventListener","event","stopPropagation","delegate","newListClicked","CustomNewItem","closeButton","addButton","inputArea","classList","add","placeholder","appendChild","inputMode","focus","remove","normalMode","value","blur","key","target","addButtonClicked","CustomCheckbox","isChecked","switchChecked","switchUnchecked","toggleStatus","checkboxClicked","CustomListViewRightMenu","hidden","appear","disappear","setPosition","y","style","top","del","deleteAction","deleteList","sel","querySelector","console","log","bind","main","e","__WEBPACK_IMPORTED_MODULE_0__model_todo_app__","window","__WEBPACK_IMPORTED_MODULE_0__view_todo_list_view__","__WEBPACK_IMPORTED_MODULE_1__todo_server__","TodoApp","dataServer","listView","lists","modelLists","__WEBPACK_IMPORTED_MODULE_0__todo_area_view__","__WEBPACK_IMPORTED_MODULE_1__custom_view__","__WEBPACK_IMPORTED_MODULE_2__util_util__","TodoListView","customNewList","rightMenu","areaView","set","itemList","updateUI","width","getBoundingClientRect","height","addCustomViews","elem","latestModelList","child","firstElementChild","removeChild","_i","_a","length","list","li","name_1","number","temp","nodeName","closest","parentNode","parent_1","siblings","querySelectorAll","setSnapchat","preventDefault","toBeDelected","isHidden","bottom","newList","listName","indexOf","addNewList","removeList","removeSnapchat","__WEBPACK_IMPORTED_MODULE_0__todo_detail_view__","TodoAreaView","nameLabel","contentView","customNewItem","checkboxList","detailView","closeView","contains","title","item","getItemInList","shrinkView","toggleItemStatus","toggleItemInList","innerHTML","items","itemsInList","items_1","span","check","push","done","checkbox","checkItem","nextElementSibling","toggle","addNewItem","closeButtonClicked","stretchView","deleteButtonClicked","deleteItem","toggleItem","addItemInList","removeItemInList","TodoDetailView","__WEBPACK_IMPORTED_MODULE_0__custom_view__","__WEBPACK_IMPORTED_MODULE_1__util_util__","deleteButton","timeLabel","todoItem","insertBefore","date","split","__WEBPACK_IMPORTED_MODULE_0__todo_list_model__","__WEBPACK_IMPORTED_MODULE_1__todo_item_model__","TodoServer","listModel","itemModelList","lists_1","result","localStorage","getItem","setItem","itemName","itemNumbersInList","numberOfItems","removeItem","renameItemInList","newName","TodoListModel","todoLists","load","info","find","save","splice","clear","data","JSON","stringify","parse","deleteModel","__WEBPACK_IMPORTED_MODULE_0__todo_item__","TodoItemModel","modelName","todos","todos_1","todo","t","face","isFinished","createTime","TodoItem","Date","toLocaleString","isDone","equal","toJSON"],"mappings":"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","file":"main.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// 自定义“视图”\nvar CustomView;\n(function (CustomView) {\n    // “新建清单”按钮\n    var CustomNewList = /** @class */ (function () {\n        function CustomNewList() {\n            this.defaultListName = '无命名清单';\n            this.index = -1;\n            this.setup();\n            this.bindEvents();\n        }\n        CustomNewList.prototype.setup = function () {\n            var div = document.createElement('div');\n            div.textContent = '新建清单';\n            div.id = 'add-new-list';\n            this.element = div;\n        };\n        CustomNewList.prototype.bindEvents = function () {\n            var _this = this;\n            this.element.addEventListener('click', function (event) {\n                event.stopPropagation();\n                if (_this.delegate) {\n                    _this.delegate.newListClicked(_this);\n                }\n            });\n        };\n        Object.defineProperty(CustomNewList.prototype, \"elem\", {\n            get: function () {\n                return this.element;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CustomNewList.prototype, \"listName\", {\n            get: function () {\n                this.index++;\n                return this.index > 0 ? this.defaultListName + this.index : this.defaultListName;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        return CustomNewList;\n    }());\n    CustomView.CustomNewList = CustomNewList;\n    // “添加待办事项”按钮\n    var CustomNewItem = /** @class */ (function () {\n        function CustomNewItem() {\n            this.setup();\n            this.bindEvents();\n        }\n        Object.defineProperty(CustomNewItem.prototype, \"elem\", {\n            get: function () {\n                return this.element;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        CustomNewItem.prototype.setup = function () {\n            this.element = document.createElement('div');\n            this.closeButton = document.createElement('span');\n            this.addButton = document.createElement('span');\n            this.inputArea = document.createElement('input');\n            this.element.id = 'add-new-item';\n            this.closeButton.id = 'close-button';\n            this.addButton.id = 'add-button';\n            this.inputArea.id = 'input-area';\n            this.closeButton.textContent = 'X';\n            this.closeButton.classList.add('hide');\n            this.addButton.textContent = '添加';\n            this.addButton.classList.add('hide');\n            this.inputArea.placeholder = '添加待办事项';\n            this.element.appendChild(this.inputArea);\n            this.element.appendChild(this.closeButton);\n            this.element.appendChild(this.addButton);\n        };\n        CustomNewItem.prototype.inputMode = function () {\n            this.inputArea.focus();\n            this.closeButton.classList.remove('hide');\n            this.addButton.classList.remove('hide');\n        };\n        CustomNewItem.prototype.normalMode = function () {\n            this.inputArea.value = '';\n            this.inputArea.blur();\n            this.closeButton.classList.add('hide');\n            this.addButton.classList.add('hide');\n        };\n        CustomNewItem.prototype.bindEvents = function () {\n            var _this = this;\n            this.inputArea.addEventListener('keyup', function (event) {\n                // log('hi')\n                if (event.key === 'Control' || event.key === 'Shift') {\n                    return;\n                }\n                var target = event.target;\n                var value = target.value;\n                if (value !== '') {\n                    _this.inputMode();\n                }\n                else {\n                    _this.normalMode();\n                }\n            });\n            this.closeButton.addEventListener('click', function (event) {\n                _this.normalMode();\n            });\n            this.addButton.addEventListener('click', function (event) {\n                var value = _this.inputArea.value;\n                _this.normalMode();\n                if (_this.delegate) {\n                    _this.delegate.addButtonClicked(value);\n                }\n            });\n        };\n        return CustomNewItem;\n    }());\n    CustomView.CustomNewItem = CustomNewItem;\n    // 自定义checkbox\n    var CustomCheckbox = /** @class */ (function () {\n        function CustomCheckbox() {\n            this.isChecked = false;\n            this.delegate = null;\n            this.setup();\n        }\n        CustomCheckbox.prototype.setup = function () {\n            var div = document.createElement('div');\n            div.classList.add('custom-checkbox');\n            div.textContent = '√';\n            this.element = div;\n            this.bindEvents();\n        };\n        Object.defineProperty(CustomCheckbox.prototype, \"checked\", {\n            get: function () {\n                return this.isChecked;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CustomCheckbox.prototype, \"elem\", {\n            get: function () {\n                return this.element;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        CustomCheckbox.prototype.switchChecked = function () {\n            this.isChecked = true;\n            this.element.classList.add('checked');\n        };\n        CustomCheckbox.prototype.switchUnchecked = function () {\n            this.isChecked = false;\n            this.element.classList.remove('checked');\n        };\n        CustomCheckbox.prototype.toggleStatus = function () {\n            if (this.isChecked) {\n                this.element.classList.add('checked');\n            }\n            else {\n                this.element.classList.remove('checked');\n            }\n        };\n        CustomCheckbox.prototype.bindEvents = function () {\n            var _this = this;\n            this.element.addEventListener('click', function (event) {\n                _this.isChecked = !_this.isChecked;\n                _this.toggleStatus();\n                event.stopPropagation();\n                if (_this.delegate) {\n                    _this.delegate.checkboxClicked(_this);\n                }\n            });\n        };\n        return CustomCheckbox;\n    }());\n    CustomView.CustomCheckbox = CustomCheckbox;\n    // 自定义listview右键菜单\n    // 就我现在的水平，就不搞什么组件的继承了……\n    var CustomListViewRightMenu = /** @class */ (function () {\n        function CustomListViewRightMenu() {\n            this.setup();\n        }\n        Object.defineProperty(CustomListViewRightMenu.prototype, \"isHidden\", {\n            get: function () {\n                return this.hidden;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CustomListViewRightMenu.prototype, \"elem\", {\n            get: function () {\n                return this.element;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        CustomListViewRightMenu.prototype.appear = function () {\n            this.hidden = false;\n            this.element.classList.add('appear');\n        };\n        CustomListViewRightMenu.prototype.disappear = function () {\n            this.hidden = true;\n            this.element.classList.remove('appear');\n        };\n        CustomListViewRightMenu.prototype.setPosition = function (y) {\n            this.element.style.top = y + 'px';\n        };\n        CustomListViewRightMenu.prototype.setup = function () {\n            this.hidden = true;\n            var div = document.createElement('div');\n            div.id = 'rightmenu';\n            var del = document.createElement('div');\n            del.id = 'rightmenu-delete';\n            del.textContent = '删除列表';\n            div.appendChild(del);\n            this.element = div;\n            this.deleteAction = del;\n            this.bindEvents();\n        };\n        CustomListViewRightMenu.prototype.bindEvents = function () {\n            var _this = this;\n            this.deleteAction.addEventListener('click', function (event) {\n                event.stopPropagation();\n                if (_this.delegate) {\n                    _this.delegate.deleteList();\n                }\n            });\n        };\n        return CustomListViewRightMenu;\n    }());\n    CustomView.CustomListViewRightMenu = CustomListViewRightMenu;\n})(CustomView || (CustomView = {}));\n/* harmony default export */ __webpack_exports__[\"a\"] = (CustomView);\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return get; });\n/* unused harmony export getAll */\n/* unused harmony export log */\nvar get = function (sel) { return document.querySelector(sel); };\nvar getAll = function (sel) { return document.querySelectorAll(sel); };\nvar log = console.log.bind(console);\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n__webpack_require__(3);\nmodule.exports = __webpack_require__(12);\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__model_todo_app__ = __webpack_require__(4);\n\nwindow.addEventListener('load', main);\nfunction main(e) {\n    var app = new __WEBPACK_IMPORTED_MODULE_0__model_todo_app__[\"a\" /* default */]();\n}\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__view_todo_list_view__ = __webpack_require__(5);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__todo_server__ = __webpack_require__(8);\n/**\n * 代码结构设计存在严重缺陷，后面的改动直到设计变得正常为止不会增加新功能。\n *\n * 每一个view的delegate不应该是app，而应该是相关联的上一层view。\n * models应该保存在app里，用不着和views进行绑定。相当于app是绑定models的一个‘view’\n */\n/**\n * 2017/12/14\n * 代码设计的问题解决了\n */\n/**\n * 2017/12/21\n * 考虑把关于model的操作从view里拆出来，弄一个类似于server的类来处理\n */\n\n\nvar TodoApp = /** @class */ (function () {\n    // private listModel: TodoListModel\n    // private itemModel: TodoItemModel\n    function TodoApp() {\n        this.dataServer = new __WEBPACK_IMPORTED_MODULE_1__todo_server__[\"a\" /* default */]();\n        this.listView = new __WEBPACK_IMPORTED_MODULE_0__view_todo_list_view__[\"a\" /* default */]();\n        this.listView.delegate = this;\n        this.listView.dataServer = this.dataServer;\n        this.listView.lists = this.dataServer.modelLists;\n    }\n    return TodoApp;\n}());\n/* harmony default export */ __webpack_exports__[\"a\"] = (TodoApp);\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__todo_area_view__ = __webpack_require__(6);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__custom_view__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_util__ = __webpack_require__(1);\n\n\n\nvar TodoListView = /** @class */ (function () {\n    function TodoListView() {\n        this.element = Object(__WEBPACK_IMPORTED_MODULE_2__util_util__[\"a\" /* get */])('#listview');\n        this.listView = Object(__WEBPACK_IMPORTED_MODULE_2__util_util__[\"a\" /* get */])('#listview ul');\n        this.customNewList = new __WEBPACK_IMPORTED_MODULE_1__custom_view__[\"a\" /* default */].CustomNewList();\n        this.customNewList.delegate = this;\n        this.rightMenu = new __WEBPACK_IMPORTED_MODULE_1__custom_view__[\"a\" /* default */].CustomListViewRightMenu();\n        this.rightMenu.delegate = this;\n        this.areaView = new __WEBPACK_IMPORTED_MODULE_0__todo_area_view__[\"a\" /* default */]();\n        this.areaView.delegate = this;\n        this.setup();\n    }\n    Object.defineProperty(TodoListView.prototype, \"lists\", {\n        set: function (lists) {\n            this.itemList = lists;\n            this.areaView.dataServer = this.dataServer;\n            this.updateUI();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TodoListView.prototype, \"cssProperties\", {\n        get: function () {\n            var width = this.listView.getBoundingClientRect()['width'];\n            var height = this.element.getBoundingClientRect()['height'];\n            return { width: width, height: height };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TodoListView.prototype.setup = function () {\n        this.addCustomViews();\n        // this.connectModel(\n        this.bindEvents();\n    };\n    TodoListView.prototype.addCustomViews = function () {\n        this.element.appendChild(this.customNewList.elem);\n        this.element.appendChild(this.rightMenu.elem);\n    };\n    // private connectModel() {\n    //     this.model = new TodoListModel()\n    //     this.updateUI()\n    // }\n    TodoListView.prototype.updateUI = function () {\n        this.latestModelList = this.dataServer.latestModelList;\n        this.itemList = this.dataServer.modelLists;\n        // log(this.itemList);\n        var child = this.listView.firstElementChild;\n        while (child !== null) {\n            this.listView.removeChild(child);\n            child = this.listView.firstElementChild;\n        }\n        for (var _i = 0, _a = this.itemList; _i < _a.length; _i++) {\n            var list = _a[_i];\n            var li = document.createElement('li');\n            li.classList.add('list-item');\n            var name_1 = document.createElement('span');\n            name_1.classList.add('item-name');\n            name_1.textContent = list;\n            var number = document.createElement('span');\n            number.classList.add('number-of-items');\n            number.textContent = '';\n            if (list === this.latestModelList) {\n                li.classList.add('active');\n            }\n            li.appendChild(name_1);\n            li.appendChild(number);\n            this.listView.appendChild(li);\n        }\n        this.areaView.name = this.latestModelList;\n    };\n    TodoListView.prototype.bindEvents = function () {\n        var _this = this;\n        this.listView.addEventListener('click', function (event) {\n            var target = event.target;\n            var name = '';\n            var elem = null;\n            var temp = null;\n            if (target.nodeName === 'LI') {\n                elem = target;\n                temp = elem.querySelector('.item-name');\n            }\n            else if (target.nodeName === 'SPAN') {\n                temp = target.closest('li');\n                if (temp !== null) {\n                    elem = temp;\n                    temp = elem.querySelector('.item-name');\n                }\n            }\n            // 动画效果\n            if (elem !== null && elem.parentNode) {\n                var parent_1 = elem.parentNode;\n                var siblings = parent_1.querySelectorAll('li');\n                for (var i = 0; i < siblings.length; i++) {\n                    siblings[i].classList.remove('active');\n                }\n                elem.classList.add('active');\n            }\n            if (temp !== null) {\n                name = temp.textContent ? temp.textContent : '';\n                _this.areaView.name = name;\n                _this.dataServer.setSnapchat(name);\n            }\n            event.stopPropagation();\n        });\n        this.listView.addEventListener('contextmenu', function (event) {\n            event.stopPropagation();\n            event.preventDefault();\n            var target = event.target;\n            if (target.nodeName === 'LI') {\n                if (target.firstElementChild && target.firstElementChild.textContent) {\n                    _this.toBeDelected = target.firstElementChild.textContent;\n                }\n            }\n            else if (target.nodeName === 'SPAN') {\n                if (target.textContent) {\n                    _this.toBeDelected = target.textContent;\n                }\n            }\n            if (_this.toBeDelected === '我的一天') {\n                _this.rightMenu.disappear();\n                return;\n            }\n            if (_this.rightMenu.isHidden) {\n                _this.rightMenu.appear();\n            }\n            _this.rightMenu.setPosition(target.getBoundingClientRect().bottom);\n        });\n        this.element.addEventListener('click', function (event) {\n            event.stopPropagation();\n            _this.rightMenu.disappear();\n        }, false);\n        this.element.addEventListener('contextmenu', function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n        });\n    };\n    // add new list delegate methods\n    TodoListView.prototype.newListClicked = function (newList) {\n        var name = this.customNewList.listName;\n        while (this.itemList.indexOf(name) !== -1) {\n            name = this.customNewList.listName;\n        }\n        this.dataServer.addNewList(name);\n        this.updateUI();\n    };\n    // right menu delegate methods\n    TodoListView.prototype.deleteList = function () {\n        if (this.toBeDelected !== '') {\n            this.dataServer.removeList(this.toBeDelected);\n            this.dataServer.removeSnapchat();\n            this.rightMenu.disappear();\n            this.updateUI();\n        }\n    };\n    return TodoListView;\n}());\n/* harmony default export */ __webpack_exports__[\"a\"] = (TodoListView);\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__todo_detail_view__ = __webpack_require__(7);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__custom_view__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_util__ = __webpack_require__(1);\n\n\n\nvar TodoAreaView = /** @class */ (function () {\n    function TodoAreaView() {\n        this.element = Object(__WEBPACK_IMPORTED_MODULE_2__util_util__[\"a\" /* get */])('#areaview');\n        this.nameLabel = Object(__WEBPACK_IMPORTED_MODULE_2__util_util__[\"a\" /* get */])('#areaview .name');\n        this.contentView = Object(__WEBPACK_IMPORTED_MODULE_2__util_util__[\"a\" /* get */])('#areaview-content ul');\n        this.customNewItem = new __WEBPACK_IMPORTED_MODULE_1__custom_view__[\"a\" /* default */].CustomNewItem();\n        this.customNewItem.delegate = this;\n        this.checkboxList = [];\n        this.detailView = new __WEBPACK_IMPORTED_MODULE_0__todo_detail_view__[\"a\" /* TodoDetailView */]();\n        this.detailView.delegate = this;\n        this.setup();\n    }\n    Object.defineProperty(TodoAreaView.prototype, \"name\", {\n        set: function (value) {\n            this.listName = value;\n            this.detailView.closeView();\n            this.updateUI();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // private methods\n    TodoAreaView.prototype.setup = function () {\n        this.bindEvents();\n        this.element.appendChild(this.customNewItem.elem);\n    };\n    TodoAreaView.prototype.bindEvents = function () {\n        var _this = this;\n        this.contentView.addEventListener('click', function (event) {\n            var target = event.target;\n            // log(target)\n            if (target.classList.contains('todo-item')) {\n                var title = target.querySelector('.todo-item-content').textContent;\n                var item = _this.dataServer.getItemInList(title, _this.listName);\n                if (item) {\n                    _this.detailView.item = item;\n                    _this.shrinkView();\n                }\n            }\n        });\n        this.element.addEventListener('contextmenu', function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n        });\n    };\n    TodoAreaView.prototype.toggleItemStatus = function (title) {\n        this.dataServer.toggleItemInList(title, this.listName);\n    };\n    TodoAreaView.prototype.updateUI = function () {\n        this.nameLabel.textContent = this.listName;\n        this.contentView.innerHTML = '';\n        this.checkboxList = [];\n        var items = this.dataServer.itemsInList(this.listName);\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            // log(item)\n            var li = document.createElement('li');\n            li.classList.add('todo-item');\n            var span = document.createElement('span');\n            span.classList.add('todo-item-content');\n            span.textContent = item.name;\n            var check = new __WEBPACK_IMPORTED_MODULE_1__custom_view__[\"a\" /* default */].CustomCheckbox();\n            check.delegate = this;\n            this.checkboxList.push(check);\n            li.appendChild(check.elem);\n            li.appendChild(span);\n            if (item.done) {\n                check.switchChecked();\n                span.classList.add('done');\n            }\n            this.contentView.appendChild(li);\n        }\n    };\n    // custom checkbox delegate methods\n    TodoAreaView.prototype.checkboxClicked = function (checkbox) {\n        var checkItem = checkbox.elem.nextElementSibling;\n        if (checkItem) {\n            var title = checkItem.textContent;\n            if (title) {\n                checkItem.classList.toggle('done');\n                this.toggleItemStatus(title);\n                var item = this.dataServer.getItemInList(title, this.listName);\n                if (item) {\n                    this.detailView.item = item;\n                    this.shrinkView();\n                }\n            }\n        }\n    };\n    // custom view 'CustomNewItem' delegate methods\n    TodoAreaView.prototype.addButtonClicked = function (value) {\n        this.addNewItem(value);\n    };\n    // detail view delegate methods\n    TodoAreaView.prototype.closeButtonClicked = function (item) {\n        this.stretchView();\n    };\n    TodoAreaView.prototype.deleteButtonClicked = function (item) {\n        var title = item.name;\n        this.stretchView();\n        this.deleteItem(title);\n    };\n    TodoAreaView.prototype.toggleItem = function (item) {\n        this.toggleItemStatus(item.name);\n        this.updateUI();\n    };\n    TodoAreaView.prototype.addNewItem = function (title) {\n        this.dataServer.addItemInList(title, this.listName);\n        this.updateUI();\n    };\n    TodoAreaView.prototype.deleteItem = function (title) {\n        var result = this.dataServer.removeItemInList(title, this.listName);\n        if (result) {\n            this.updateUI();\n        }\n    };\n    TodoAreaView.prototype.shrinkView = function () {\n        this.element.classList.add('shrink');\n    };\n    TodoAreaView.prototype.stretchView = function () {\n        this.element.classList.remove('shrink');\n    };\n    return TodoAreaView;\n}());\n/* harmony default export */ __webpack_exports__[\"a\"] = (TodoAreaView);\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return TodoDetailView; });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__custom_view__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_util__ = __webpack_require__(1);\n\n\nvar TodoDetailView = /** @class */ (function () {\n    function TodoDetailView() {\n        this.element = Object(__WEBPACK_IMPORTED_MODULE_1__util_util__[\"a\" /* get */])('#detailview');\n        this.checkbox = new __WEBPACK_IMPORTED_MODULE_0__custom_view__[\"a\" /* default */].CustomCheckbox();\n        this.checkbox.delegate = this;\n        this.nameLabel = Object(__WEBPACK_IMPORTED_MODULE_1__util_util__[\"a\" /* get */])('#detailview .title');\n        this.closeButton = Object(__WEBPACK_IMPORTED_MODULE_1__util_util__[\"a\" /* get */])('#detailview .disappear');\n        this.deleteButton = Object(__WEBPACK_IMPORTED_MODULE_1__util_util__[\"a\" /* get */])('#detailview .delete');\n        this.timeLabel = Object(__WEBPACK_IMPORTED_MODULE_1__util_util__[\"a\" /* get */])('#detailview .create-time');\n        this.setup();\n    }\n    TodoDetailView.prototype.closeView = function () {\n        this.disappear();\n    };\n    TodoDetailView.prototype.setup = function () {\n        this.bindEvents();\n    };\n    TodoDetailView.prototype.bindEvents = function () {\n        var _this = this;\n        this.closeButton.addEventListener('click', function (event) {\n            _this.closeView();\n            if (_this.delegate) {\n                _this.delegate.closeButtonClicked(_this.todoItem);\n            }\n        });\n        this.deleteButton.addEventListener('click', function (event) {\n            var title = _this.todoItem.name;\n            _this.closeView();\n            if (_this.delegate) {\n                _this.delegate.deleteButtonClicked(_this.todoItem);\n            }\n        });\n        this.element.addEventListener('contextmenu', function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n        });\n    };\n    Object.defineProperty(TodoDetailView.prototype, \"item\", {\n        set: function (item) {\n            this.todoItem = item;\n            this.appear();\n            this.updateUI();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TodoDetailView.prototype.updateUI = function () {\n        this.nameLabel.textContent = this.todoItem.name;\n        this.nameLabel.parentNode.insertBefore(this.checkbox.elem, this.nameLabel);\n        this.timeLabel.textContent = '创建于' + this.todoItem.date.split(' ')[0];\n        if (this.todoItem.done) {\n            this.checkbox.switchChecked();\n        }\n        else {\n            this.checkbox.switchUnchecked();\n        }\n    };\n    TodoDetailView.prototype.disappear = function () {\n        // hide detail view\n        this.element.classList.add('disappear');\n    };\n    TodoDetailView.prototype.appear = function () {\n        // show detail view\n        this.element.classList.remove('disappear');\n    };\n    // custom checkbox delegate method\n    TodoDetailView.prototype.checkboxClicked = function (checkbox) {\n        if (this.delegate) {\n            this.delegate.toggleItem(this.todoItem);\n        }\n    };\n    return TodoDetailView;\n}());\n\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__todo_list_model__ = __webpack_require__(9);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__todo_item_model__ = __webpack_require__(10);\n\n\nvar TodoServer = /** @class */ (function () {\n    function TodoServer() {\n        this.listModel = new __WEBPACK_IMPORTED_MODULE_0__todo_list_model__[\"a\" /* default */]();\n        this.itemModelList = {};\n        this.setup();\n    }\n    TodoServer.prototype.setup = function () {\n        var lists = this.listModel.lists;\n        for (var _i = 0, lists_1 = lists; _i < lists_1.length; _i++) {\n            var list = lists_1[_i];\n            this.itemModelList[list] = new __WEBPACK_IMPORTED_MODULE_1__todo_item_model__[\"a\" /* default */](list);\n        }\n    };\n    Object.defineProperty(TodoServer.prototype, \"modelLists\", {\n        get: function () {\n            return this.listModel.lists;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TodoServer.prototype, \"latestModelList\", {\n        get: function () {\n            var result = localStorage.getItem('list-name-before-closed');\n            if (result === null || result === '') {\n                localStorage.setItem('list-name-before-closed', '我的一天');\n                result = '我的一天';\n            }\n            return result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TodoServer.prototype.getItemInList = function (itemName, listName) {\n        var list = this.itemModelList[listName];\n        return list.getItem(itemName);\n    };\n    TodoServer.prototype.itemNumbersInList = function (listName) {\n        var list = this.itemModelList[listName];\n        return list.numberOfItems;\n    };\n    TodoServer.prototype.addNewList = function (listName) {\n        this.listModel.add(listName);\n    };\n    TodoServer.prototype.removeList = function (listName) {\n        localStorage.removeItem(listName);\n        return this.listModel.remove(listName);\n    };\n    TodoServer.prototype.itemsInList = function (listName) {\n        var list = this.itemModelList[listName];\n        return list.items;\n    };\n    TodoServer.prototype.addItemInList = function (itemName, listName) {\n        var list = this.itemModelList[listName];\n        list.add(itemName);\n    };\n    TodoServer.prototype.removeItemInList = function (itemName, listName) {\n        var list = this.itemModelList[listName];\n        return list.remove(itemName);\n    };\n    TodoServer.prototype.toggleItemInList = function (itemName, listName) {\n        var list = this.itemModelList[listName];\n        list.toggle(itemName);\n    };\n    TodoServer.prototype.renameItemInList = function (itemName, newName, listName) {\n        var list = this.itemModelList[listName];\n        return false;\n    };\n    TodoServer.prototype.setSnapchat = function (listName) {\n        localStorage.setItem('list-name-before-closed', listName);\n    };\n    TodoServer.prototype.removeSnapchat = function () {\n        localStorage.removeItem('list-name-before-closed');\n    };\n    return TodoServer;\n}());\n/* harmony default export */ __webpack_exports__[\"a\"] = (TodoServer);\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar TodoListModel = /** @class */ (function () {\n    function TodoListModel() {\n        this.todoLists = [];\n        this.name = 'todo-app-list';\n        this.setup();\n    }\n    TodoListModel.prototype.setup = function () {\n        this.load();\n    };\n    TodoListModel.prototype.add = function (name) {\n        if (!this.info(name).find) {\n            this.todoLists.push(name);\n            this.save();\n        }\n    };\n    TodoListModel.prototype.info = function (name) {\n        for (var i = 0; i < this.todoLists.length; i++) {\n            if (this.todoLists[i] === name) {\n                return {\n                    find: true,\n                    index: i,\n                };\n            }\n        }\n        return { find: false };\n    };\n    TodoListModel.prototype.remove = function (name) {\n        var info = this.info(name);\n        if (!info.find) {\n            return false;\n        }\n        this.todoLists.splice(info.index, 1);\n        this.save();\n        return true;\n    };\n    TodoListModel.prototype.clear = function () {\n        this.todoLists = [];\n        this.save();\n    };\n    TodoListModel.prototype.save = function () {\n        var data = {\n            'lists': this.todoLists\n        };\n        localStorage.setItem(this.name, JSON.stringify(data));\n    };\n    TodoListModel.prototype.load = function () {\n        var data = localStorage.getItem(this.name);\n        if (data === null || JSON.parse(data).lists.length === 0) {\n            this.todoLists.push('我的一天');\n            this.save();\n        }\n        else {\n            this.todoLists = JSON.parse(data).lists;\n        }\n    };\n    TodoListModel.prototype.deleteModel = function () {\n        localStorage.removeItem(this.name);\n    };\n    Object.defineProperty(TodoListModel.prototype, \"lists\", {\n        get: function () {\n            return JSON.parse(JSON.stringify(this.todoLists));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return TodoListModel;\n}());\n/* harmony default export */ __webpack_exports__[\"a\"] = (TodoListModel);\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__todo_item__ = __webpack_require__(11);\n\nvar TodoItemModel = /** @class */ (function () {\n    function TodoItemModel(name) {\n        this.itemList = [];\n        this.modelName = name;\n        this.setup();\n    }\n    TodoItemModel.prototype.setup = function () {\n        this.load();\n    };\n    TodoItemModel.prototype.add = function (title) {\n        if (!this.info(title).find) {\n            var item = new __WEBPACK_IMPORTED_MODULE_0__todo_item__[\"a\" /* TodoItem */](title);\n            this.itemList.push(item);\n            this.save();\n        }\n    };\n    TodoItemModel.prototype.info = function (name) {\n        for (var i = 0; i < this.itemList.length; i++) {\n            if (this.itemList[i].title === name) {\n                return {\n                    find: true,\n                    index: i,\n                };\n            }\n        }\n        return { find: false };\n    };\n    TodoItemModel.prototype.toggle = function (name) {\n        var info = this.info(name);\n        if (info.find) {\n            var item = this.itemList[info.index];\n            item.toggleStatus();\n            this.save();\n        }\n    };\n    TodoItemModel.prototype.remove = function (title) {\n        var info = this.info(title);\n        if (!info.find) {\n            return false;\n        }\n        this.itemList.splice(info.index, 1);\n        this.save();\n        return true;\n    };\n    TodoItemModel.prototype.clear = function () {\n        this.itemList = [];\n        this.save();\n    };\n    TodoItemModel.prototype.save = function () {\n        var data = {\n            'todos': this.itemList\n        };\n        localStorage.setItem(this.modelName, JSON.stringify(data));\n    };\n    TodoItemModel.prototype.load = function () {\n        var data = localStorage.getItem(this.modelName);\n        if (data === null) {\n            this.itemList = [];\n            this.save();\n        }\n        else {\n            var todos = JSON.parse(data).todos;\n            for (var _i = 0, todos_1 = todos; _i < todos_1.length; _i++) {\n                var todo = todos_1[_i];\n                var t = JSON.parse(todo);\n                var item = new __WEBPACK_IMPORTED_MODULE_0__todo_item__[\"a\" /* TodoItem */](t.name, t.done, t.date);\n                this.itemList.push(item);\n            }\n        }\n    };\n    TodoItemModel.prototype.deleteModel = function () {\n        localStorage.removeItem(this.modelName);\n    };\n    Object.defineProperty(TodoItemModel.prototype, \"items\", {\n        get: function () {\n            var result = [];\n            for (var _i = 0, _a = this.itemList; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var face = {\n                    name: item.title,\n                    done: item.isFinished,\n                    date: item.createTime,\n                };\n                result.push(face);\n            }\n            return result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TodoItemModel.prototype, \"numberOfItems\", {\n        get: function () {\n            return this.itemList.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TodoItemModel.prototype.getItem = function (title) {\n        var info = this.info(title);\n        if (info.find) {\n            var index = info.index;\n            return {\n                name: this.itemList[index].title,\n                done: this.itemList[index].isFinished,\n                date: this.itemList[index].createTime,\n            };\n        }\n        return null;\n    };\n    return TodoItemModel;\n}());\n/* harmony default export */ __webpack_exports__[\"a\"] = (TodoItemModel);\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return TodoItem; });\nvar TodoItem = /** @class */ (function () {\n    function TodoItem(title, done, date) {\n        if (done === void 0) { done = false; }\n        if (date === void 0) { date = new Date().toLocaleString(); }\n        this.itemName = title;\n        this.isDone = done;\n        this.date = new Date().toLocaleString();\n    }\n    Object.defineProperty(TodoItem.prototype, \"title\", {\n        get: function () {\n            return this.itemName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TodoItem.prototype, \"isFinished\", {\n        get: function () {\n            return this.isDone;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TodoItem.prototype, \"createTime\", {\n        get: function () {\n            return this.date;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TodoItem.prototype.toggleStatus = function () {\n        this.isDone = !this.isDone;\n    };\n    TodoItem.prototype.equal = function (item) {\n        return this.itemName === item.itemName;\n    };\n    TodoItem.prototype.toJSON = function () {\n        var value = {\n            name: this.itemName,\n            done: this.isDone,\n            date: this.date,\n        };\n        return JSON.stringify(value);\n    };\n    return TodoItem;\n}());\n\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ })\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// main.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 72fd37eafd110b744649","// 自定义“视图”\nvar CustomView;\n(function (CustomView) {\n    // “新建清单”按钮\n    var CustomNewList = /** @class */ (function () {\n        function CustomNewList() {\n            this.defaultListName = '无命名清单';\n            this.index = -1;\n            this.setup();\n            this.bindEvents();\n        }\n        CustomNewList.prototype.setup = function () {\n            var div = document.createElement('div');\n            div.textContent = '新建清单';\n            div.id = 'add-new-list';\n            this.element = div;\n        };\n        CustomNewList.prototype.bindEvents = function () {\n            var _this = this;\n            this.element.addEventListener('click', function (event) {\n                event.stopPropagation();\n                if (_this.delegate) {\n                    _this.delegate.newListClicked(_this);\n                }\n            });\n        };\n        Object.defineProperty(CustomNewList.prototype, \"elem\", {\n            get: function () {\n                return this.element;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CustomNewList.prototype, \"listName\", {\n            get: function () {\n                this.index++;\n                return this.index > 0 ? this.defaultListName + this.index : this.defaultListName;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        return CustomNewList;\n    }());\n    CustomView.CustomNewList = CustomNewList;\n    // “添加待办事项”按钮\n    var CustomNewItem = /** @class */ (function () {\n        function CustomNewItem() {\n            this.setup();\n            this.bindEvents();\n        }\n        Object.defineProperty(CustomNewItem.prototype, \"elem\", {\n            get: function () {\n                return this.element;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        CustomNewItem.prototype.setup = function () {\n            this.element = document.createElement('div');\n            this.closeButton = document.createElement('span');\n            this.addButton = document.createElement('span');\n            this.inputArea = document.createElement('input');\n            this.element.id = 'add-new-item';\n            this.closeButton.id = 'close-button';\n            this.addButton.id = 'add-button';\n            this.inputArea.id = 'input-area';\n            this.closeButton.textContent = 'X';\n            this.closeButton.classList.add('hide');\n            this.addButton.textContent = '添加';\n            this.addButton.classList.add('hide');\n            this.inputArea.placeholder = '添加待办事项';\n            this.element.appendChild(this.inputArea);\n            this.element.appendChild(this.closeButton);\n            this.element.appendChild(this.addButton);\n        };\n        CustomNewItem.prototype.inputMode = function () {\n            this.inputArea.focus();\n            this.closeButton.classList.remove('hide');\n            this.addButton.classList.remove('hide');\n        };\n        CustomNewItem.prototype.normalMode = function () {\n            this.inputArea.value = '';\n            this.inputArea.blur();\n            this.closeButton.classList.add('hide');\n            this.addButton.classList.add('hide');\n        };\n        CustomNewItem.prototype.bindEvents = function () {\n            var _this = this;\n            this.inputArea.addEventListener('keyup', function (event) {\n                // log('hi')\n                if (event.key === 'Control' || event.key === 'Shift') {\n                    return;\n                }\n                var target = event.target;\n                var value = target.value;\n                if (value !== '') {\n                    _this.inputMode();\n                }\n                else {\n                    _this.normalMode();\n                }\n            });\n            this.closeButton.addEventListener('click', function (event) {\n                _this.normalMode();\n            });\n            this.addButton.addEventListener('click', function (event) {\n                var value = _this.inputArea.value;\n                _this.normalMode();\n                if (_this.delegate) {\n                    _this.delegate.addButtonClicked(value);\n                }\n            });\n        };\n        return CustomNewItem;\n    }());\n    CustomView.CustomNewItem = CustomNewItem;\n    // 自定义checkbox\n    var CustomCheckbox = /** @class */ (function () {\n        function CustomCheckbox() {\n            this.isChecked = false;\n            this.delegate = null;\n            this.setup();\n        }\n        CustomCheckbox.prototype.setup = function () {\n            var div = document.createElement('div');\n            div.classList.add('custom-checkbox');\n            div.textContent = '√';\n            this.element = div;\n            this.bindEvents();\n        };\n        Object.defineProperty(CustomCheckbox.prototype, \"checked\", {\n            get: function () {\n                return this.isChecked;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CustomCheckbox.prototype, \"elem\", {\n            get: function () {\n                return this.element;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        CustomCheckbox.prototype.switchChecked = function () {\n            this.isChecked = true;\n            this.element.classList.add('checked');\n        };\n        CustomCheckbox.prototype.switchUnchecked = function () {\n            this.isChecked = false;\n            this.element.classList.remove('checked');\n        };\n        CustomCheckbox.prototype.toggleStatus = function () {\n            if (this.isChecked) {\n                this.element.classList.add('checked');\n            }\n            else {\n                this.element.classList.remove('checked');\n            }\n        };\n        CustomCheckbox.prototype.bindEvents = function () {\n            var _this = this;\n            this.element.addEventListener('click', function (event) {\n                _this.isChecked = !_this.isChecked;\n                _this.toggleStatus();\n                event.stopPropagation();\n                if (_this.delegate) {\n                    _this.delegate.checkboxClicked(_this);\n                }\n            });\n        };\n        return CustomCheckbox;\n    }());\n    CustomView.CustomCheckbox = CustomCheckbox;\n    // 自定义listview右键菜单\n    // 就我现在的水平，就不搞什么组件的继承了……\n    var CustomListViewRightMenu = /** @class */ (function () {\n        function CustomListViewRightMenu() {\n            this.setup();\n        }\n        Object.defineProperty(CustomListViewRightMenu.prototype, \"isHidden\", {\n            get: function () {\n                return this.hidden;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        Object.defineProperty(CustomListViewRightMenu.prototype, \"elem\", {\n            get: function () {\n                return this.element;\n            },\n            enumerable: true,\n            configurable: true\n        });\n        CustomListViewRightMenu.prototype.appear = function () {\n            this.hidden = false;\n            this.element.classList.add('appear');\n        };\n        CustomListViewRightMenu.prototype.disappear = function () {\n            this.hidden = true;\n            this.element.classList.remove('appear');\n        };\n        CustomListViewRightMenu.prototype.setPosition = function (y) {\n            this.element.style.top = y + 'px';\n        };\n        CustomListViewRightMenu.prototype.setup = function () {\n            this.hidden = true;\n            var div = document.createElement('div');\n            div.id = 'rightmenu';\n            var del = document.createElement('div');\n            del.id = 'rightmenu-delete';\n            del.textContent = '删除列表';\n            div.appendChild(del);\n            this.element = div;\n            this.deleteAction = del;\n            this.bindEvents();\n        };\n        CustomListViewRightMenu.prototype.bindEvents = function () {\n            var _this = this;\n            this.deleteAction.addEventListener('click', function (event) {\n                event.stopPropagation();\n                if (_this.delegate) {\n                    _this.delegate.deleteList();\n                }\n            });\n        };\n        return CustomListViewRightMenu;\n    }());\n    CustomView.CustomListViewRightMenu = CustomListViewRightMenu;\n})(CustomView || (CustomView = {}));\nexport default CustomView;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/custom_view.ts\n// module id = 0\n// module chunks = 0","export var get = function (sel) { return document.querySelector(sel); };\nexport var getAll = function (sel) { return document.querySelectorAll(sel); };\nexport var log = console.log.bind(console);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/util/util.ts\n// module id = 1\n// module chunks = 0","import TodoApp from './model/todo_app';\nwindow.addEventListener('load', main);\nfunction main(e) {\n    var app = new TodoApp();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/main.ts\n// module id = 3\n// module chunks = 0","/**\n * 代码结构设计存在严重缺陷，后面的改动直到设计变得正常为止不会增加新功能。\n *\n * 每一个view的delegate不应该是app，而应该是相关联的上一层view。\n * models应该保存在app里，用不着和views进行绑定。相当于app是绑定models的一个‘view’\n */\n/**\n * 2017/12/14\n * 代码设计的问题解决了\n */\n/**\n * 2017/12/21\n * 考虑把关于model的操作从view里拆出来，弄一个类似于server的类来处理\n */\nimport TodoListView from '../view/todo_list_view';\nimport TodoServer from './todo_server';\nvar TodoApp = /** @class */ (function () {\n    // private listModel: TodoListModel\n    // private itemModel: TodoItemModel\n    function TodoApp() {\n        this.dataServer = new TodoServer();\n        this.listView = new TodoListView();\n        this.listView.delegate = this;\n        this.listView.dataServer = this.dataServer;\n        this.listView.lists = this.dataServer.modelLists;\n    }\n    return TodoApp;\n}());\nexport default TodoApp;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/model/todo_app.ts\n// module id = 4\n// module chunks = 0","import TodoAreaView from './todo_area_view';\nimport CustomView from './custom_view';\nimport { get } from '../util/util';\nvar TodoListView = /** @class */ (function () {\n    function TodoListView() {\n        this.element = get('#listview');\n        this.listView = get('#listview ul');\n        this.customNewList = new CustomView.CustomNewList();\n        this.customNewList.delegate = this;\n        this.rightMenu = new CustomView.CustomListViewRightMenu();\n        this.rightMenu.delegate = this;\n        this.areaView = new TodoAreaView();\n        this.areaView.delegate = this;\n        this.setup();\n    }\n    Object.defineProperty(TodoListView.prototype, \"lists\", {\n        set: function (lists) {\n            this.itemList = lists;\n            this.areaView.dataServer = this.dataServer;\n            this.updateUI();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TodoListView.prototype, \"cssProperties\", {\n        get: function () {\n            var width = this.listView.getBoundingClientRect()['width'];\n            var height = this.element.getBoundingClientRect()['height'];\n            return { width: width, height: height };\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TodoListView.prototype.setup = function () {\n        this.addCustomViews();\n        // this.connectModel(\n        this.bindEvents();\n    };\n    TodoListView.prototype.addCustomViews = function () {\n        this.element.appendChild(this.customNewList.elem);\n        this.element.appendChild(this.rightMenu.elem);\n    };\n    // private connectModel() {\n    //     this.model = new TodoListModel()\n    //     this.updateUI()\n    // }\n    TodoListView.prototype.updateUI = function () {\n        this.latestModelList = this.dataServer.latestModelList;\n        this.itemList = this.dataServer.modelLists;\n        // log(this.itemList);\n        var child = this.listView.firstElementChild;\n        while (child !== null) {\n            this.listView.removeChild(child);\n            child = this.listView.firstElementChild;\n        }\n        for (var _i = 0, _a = this.itemList; _i < _a.length; _i++) {\n            var list = _a[_i];\n            var li = document.createElement('li');\n            li.classList.add('list-item');\n            var name_1 = document.createElement('span');\n            name_1.classList.add('item-name');\n            name_1.textContent = list;\n            var number = document.createElement('span');\n            number.classList.add('number-of-items');\n            number.textContent = '';\n            if (list === this.latestModelList) {\n                li.classList.add('active');\n            }\n            li.appendChild(name_1);\n            li.appendChild(number);\n            this.listView.appendChild(li);\n        }\n        this.areaView.name = this.latestModelList;\n    };\n    TodoListView.prototype.bindEvents = function () {\n        var _this = this;\n        this.listView.addEventListener('click', function (event) {\n            var target = event.target;\n            var name = '';\n            var elem = null;\n            var temp = null;\n            if (target.nodeName === 'LI') {\n                elem = target;\n                temp = elem.querySelector('.item-name');\n            }\n            else if (target.nodeName === 'SPAN') {\n                temp = target.closest('li');\n                if (temp !== null) {\n                    elem = temp;\n                    temp = elem.querySelector('.item-name');\n                }\n            }\n            // 动画效果\n            if (elem !== null && elem.parentNode) {\n                var parent_1 = elem.parentNode;\n                var siblings = parent_1.querySelectorAll('li');\n                for (var i = 0; i < siblings.length; i++) {\n                    siblings[i].classList.remove('active');\n                }\n                elem.classList.add('active');\n            }\n            if (temp !== null) {\n                name = temp.textContent ? temp.textContent : '';\n                _this.areaView.name = name;\n                _this.dataServer.setSnapchat(name);\n            }\n            event.stopPropagation();\n        });\n        this.listView.addEventListener('contextmenu', function (event) {\n            event.stopPropagation();\n            event.preventDefault();\n            var target = event.target;\n            if (target.nodeName === 'LI') {\n                if (target.firstElementChild && target.firstElementChild.textContent) {\n                    _this.toBeDelected = target.firstElementChild.textContent;\n                }\n            }\n            else if (target.nodeName === 'SPAN') {\n                if (target.textContent) {\n                    _this.toBeDelected = target.textContent;\n                }\n            }\n            if (_this.toBeDelected === '我的一天') {\n                _this.rightMenu.disappear();\n                return;\n            }\n            if (_this.rightMenu.isHidden) {\n                _this.rightMenu.appear();\n            }\n            _this.rightMenu.setPosition(target.getBoundingClientRect().bottom);\n        });\n        this.element.addEventListener('click', function (event) {\n            event.stopPropagation();\n            _this.rightMenu.disappear();\n        }, false);\n        this.element.addEventListener('contextmenu', function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n        });\n    };\n    // add new list delegate methods\n    TodoListView.prototype.newListClicked = function (newList) {\n        var name = this.customNewList.listName;\n        while (this.itemList.indexOf(name) !== -1) {\n            name = this.customNewList.listName;\n        }\n        this.dataServer.addNewList(name);\n        this.updateUI();\n    };\n    // right menu delegate methods\n    TodoListView.prototype.deleteList = function () {\n        if (this.toBeDelected !== '') {\n            this.dataServer.removeList(this.toBeDelected);\n            this.dataServer.removeSnapchat();\n            this.rightMenu.disappear();\n            this.updateUI();\n        }\n    };\n    return TodoListView;\n}());\nexport default TodoListView;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/todo_list_view.ts\n// module id = 5\n// module chunks = 0","import { TodoDetailView } from './todo_detail_view';\nimport CustomView from './custom_view';\nimport { get } from '../util/util';\nvar TodoAreaView = /** @class */ (function () {\n    function TodoAreaView() {\n        this.element = get('#areaview');\n        this.nameLabel = get('#areaview .name');\n        this.contentView = get('#areaview-content ul');\n        this.customNewItem = new CustomView.CustomNewItem();\n        this.customNewItem.delegate = this;\n        this.checkboxList = [];\n        this.detailView = new TodoDetailView();\n        this.detailView.delegate = this;\n        this.setup();\n    }\n    Object.defineProperty(TodoAreaView.prototype, \"name\", {\n        set: function (value) {\n            this.listName = value;\n            this.detailView.closeView();\n            this.updateUI();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    // private methods\n    TodoAreaView.prototype.setup = function () {\n        this.bindEvents();\n        this.element.appendChild(this.customNewItem.elem);\n    };\n    TodoAreaView.prototype.bindEvents = function () {\n        var _this = this;\n        this.contentView.addEventListener('click', function (event) {\n            var target = event.target;\n            // log(target)\n            if (target.classList.contains('todo-item')) {\n                var title = target.querySelector('.todo-item-content').textContent;\n                var item = _this.dataServer.getItemInList(title, _this.listName);\n                if (item) {\n                    _this.detailView.item = item;\n                    _this.shrinkView();\n                }\n            }\n        });\n        this.element.addEventListener('contextmenu', function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n        });\n    };\n    TodoAreaView.prototype.toggleItemStatus = function (title) {\n        this.dataServer.toggleItemInList(title, this.listName);\n    };\n    TodoAreaView.prototype.updateUI = function () {\n        this.nameLabel.textContent = this.listName;\n        this.contentView.innerHTML = '';\n        this.checkboxList = [];\n        var items = this.dataServer.itemsInList(this.listName);\n        for (var _i = 0, items_1 = items; _i < items_1.length; _i++) {\n            var item = items_1[_i];\n            // log(item)\n            var li = document.createElement('li');\n            li.classList.add('todo-item');\n            var span = document.createElement('span');\n            span.classList.add('todo-item-content');\n            span.textContent = item.name;\n            var check = new CustomView.CustomCheckbox();\n            check.delegate = this;\n            this.checkboxList.push(check);\n            li.appendChild(check.elem);\n            li.appendChild(span);\n            if (item.done) {\n                check.switchChecked();\n                span.classList.add('done');\n            }\n            this.contentView.appendChild(li);\n        }\n    };\n    // custom checkbox delegate methods\n    TodoAreaView.prototype.checkboxClicked = function (checkbox) {\n        var checkItem = checkbox.elem.nextElementSibling;\n        if (checkItem) {\n            var title = checkItem.textContent;\n            if (title) {\n                checkItem.classList.toggle('done');\n                this.toggleItemStatus(title);\n                var item = this.dataServer.getItemInList(title, this.listName);\n                if (item) {\n                    this.detailView.item = item;\n                    this.shrinkView();\n                }\n            }\n        }\n    };\n    // custom view 'CustomNewItem' delegate methods\n    TodoAreaView.prototype.addButtonClicked = function (value) {\n        this.addNewItem(value);\n    };\n    // detail view delegate methods\n    TodoAreaView.prototype.closeButtonClicked = function (item) {\n        this.stretchView();\n    };\n    TodoAreaView.prototype.deleteButtonClicked = function (item) {\n        var title = item.name;\n        this.stretchView();\n        this.deleteItem(title);\n    };\n    TodoAreaView.prototype.toggleItem = function (item) {\n        this.toggleItemStatus(item.name);\n        this.updateUI();\n    };\n    TodoAreaView.prototype.addNewItem = function (title) {\n        this.dataServer.addItemInList(title, this.listName);\n        this.updateUI();\n    };\n    TodoAreaView.prototype.deleteItem = function (title) {\n        var result = this.dataServer.removeItemInList(title, this.listName);\n        if (result) {\n            this.updateUI();\n        }\n    };\n    TodoAreaView.prototype.shrinkView = function () {\n        this.element.classList.add('shrink');\n    };\n    TodoAreaView.prototype.stretchView = function () {\n        this.element.classList.remove('shrink');\n    };\n    return TodoAreaView;\n}());\nexport default TodoAreaView;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/todo_area_view.ts\n// module id = 6\n// module chunks = 0","import CustomView from './custom_view';\nimport { get } from '../util/util';\nvar TodoDetailView = /** @class */ (function () {\n    function TodoDetailView() {\n        this.element = get('#detailview');\n        this.checkbox = new CustomView.CustomCheckbox();\n        this.checkbox.delegate = this;\n        this.nameLabel = get('#detailview .title');\n        this.closeButton = get('#detailview .disappear');\n        this.deleteButton = get('#detailview .delete');\n        this.timeLabel = get('#detailview .create-time');\n        this.setup();\n    }\n    TodoDetailView.prototype.closeView = function () {\n        this.disappear();\n    };\n    TodoDetailView.prototype.setup = function () {\n        this.bindEvents();\n    };\n    TodoDetailView.prototype.bindEvents = function () {\n        var _this = this;\n        this.closeButton.addEventListener('click', function (event) {\n            _this.closeView();\n            if (_this.delegate) {\n                _this.delegate.closeButtonClicked(_this.todoItem);\n            }\n        });\n        this.deleteButton.addEventListener('click', function (event) {\n            var title = _this.todoItem.name;\n            _this.closeView();\n            if (_this.delegate) {\n                _this.delegate.deleteButtonClicked(_this.todoItem);\n            }\n        });\n        this.element.addEventListener('contextmenu', function (event) {\n            event.preventDefault();\n            event.stopPropagation();\n        });\n    };\n    Object.defineProperty(TodoDetailView.prototype, \"item\", {\n        set: function (item) {\n            this.todoItem = item;\n            this.appear();\n            this.updateUI();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TodoDetailView.prototype.updateUI = function () {\n        this.nameLabel.textContent = this.todoItem.name;\n        this.nameLabel.parentNode.insertBefore(this.checkbox.elem, this.nameLabel);\n        this.timeLabel.textContent = '创建于' + this.todoItem.date.split(' ')[0];\n        if (this.todoItem.done) {\n            this.checkbox.switchChecked();\n        }\n        else {\n            this.checkbox.switchUnchecked();\n        }\n    };\n    TodoDetailView.prototype.disappear = function () {\n        // hide detail view\n        this.element.classList.add('disappear');\n    };\n    TodoDetailView.prototype.appear = function () {\n        // show detail view\n        this.element.classList.remove('disappear');\n    };\n    // custom checkbox delegate method\n    TodoDetailView.prototype.checkboxClicked = function (checkbox) {\n        if (this.delegate) {\n            this.delegate.toggleItem(this.todoItem);\n        }\n    };\n    return TodoDetailView;\n}());\nexport { TodoDetailView };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/todo_detail_view.ts\n// module id = 7\n// module chunks = 0","import TodoListModel from './todo_list_model';\nimport TodoItemModel from './todo_item_model';\nvar TodoServer = /** @class */ (function () {\n    function TodoServer() {\n        this.listModel = new TodoListModel();\n        this.itemModelList = {};\n        this.setup();\n    }\n    TodoServer.prototype.setup = function () {\n        var lists = this.listModel.lists;\n        for (var _i = 0, lists_1 = lists; _i < lists_1.length; _i++) {\n            var list = lists_1[_i];\n            this.itemModelList[list] = new TodoItemModel(list);\n        }\n    };\n    Object.defineProperty(TodoServer.prototype, \"modelLists\", {\n        get: function () {\n            return this.listModel.lists;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TodoServer.prototype, \"latestModelList\", {\n        get: function () {\n            var result = localStorage.getItem('list-name-before-closed');\n            if (result === null || result === '') {\n                localStorage.setItem('list-name-before-closed', '我的一天');\n                result = '我的一天';\n            }\n            return result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TodoServer.prototype.getItemInList = function (itemName, listName) {\n        var list = this.itemModelList[listName];\n        return list.getItem(itemName);\n    };\n    TodoServer.prototype.itemNumbersInList = function (listName) {\n        var list = this.itemModelList[listName];\n        return list.numberOfItems;\n    };\n    TodoServer.prototype.addNewList = function (listName) {\n        this.listModel.add(listName);\n    };\n    TodoServer.prototype.removeList = function (listName) {\n        localStorage.removeItem(listName);\n        return this.listModel.remove(listName);\n    };\n    TodoServer.prototype.itemsInList = function (listName) {\n        var list = this.itemModelList[listName];\n        return list.items;\n    };\n    TodoServer.prototype.addItemInList = function (itemName, listName) {\n        var list = this.itemModelList[listName];\n        list.add(itemName);\n    };\n    TodoServer.prototype.removeItemInList = function (itemName, listName) {\n        var list = this.itemModelList[listName];\n        return list.remove(itemName);\n    };\n    TodoServer.prototype.toggleItemInList = function (itemName, listName) {\n        var list = this.itemModelList[listName];\n        list.toggle(itemName);\n    };\n    TodoServer.prototype.renameItemInList = function (itemName, newName, listName) {\n        var list = this.itemModelList[listName];\n        return false;\n    };\n    TodoServer.prototype.setSnapchat = function (listName) {\n        localStorage.setItem('list-name-before-closed', listName);\n    };\n    TodoServer.prototype.removeSnapchat = function () {\n        localStorage.removeItem('list-name-before-closed');\n    };\n    return TodoServer;\n}());\nexport default TodoServer;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/model/todo_server.ts\n// module id = 8\n// module chunks = 0","var TodoListModel = /** @class */ (function () {\n    function TodoListModel() {\n        this.todoLists = [];\n        this.name = 'todo-app-list';\n        this.setup();\n    }\n    TodoListModel.prototype.setup = function () {\n        this.load();\n    };\n    TodoListModel.prototype.add = function (name) {\n        if (!this.info(name).find) {\n            this.todoLists.push(name);\n            this.save();\n        }\n    };\n    TodoListModel.prototype.info = function (name) {\n        for (var i = 0; i < this.todoLists.length; i++) {\n            if (this.todoLists[i] === name) {\n                return {\n                    find: true,\n                    index: i,\n                };\n            }\n        }\n        return { find: false };\n    };\n    TodoListModel.prototype.remove = function (name) {\n        var info = this.info(name);\n        if (!info.find) {\n            return false;\n        }\n        this.todoLists.splice(info.index, 1);\n        this.save();\n        return true;\n    };\n    TodoListModel.prototype.clear = function () {\n        this.todoLists = [];\n        this.save();\n    };\n    TodoListModel.prototype.save = function () {\n        var data = {\n            'lists': this.todoLists\n        };\n        localStorage.setItem(this.name, JSON.stringify(data));\n    };\n    TodoListModel.prototype.load = function () {\n        var data = localStorage.getItem(this.name);\n        if (data === null || JSON.parse(data).lists.length === 0) {\n            this.todoLists.push('我的一天');\n            this.save();\n        }\n        else {\n            this.todoLists = JSON.parse(data).lists;\n        }\n    };\n    TodoListModel.prototype.deleteModel = function () {\n        localStorage.removeItem(this.name);\n    };\n    Object.defineProperty(TodoListModel.prototype, \"lists\", {\n        get: function () {\n            return JSON.parse(JSON.stringify(this.todoLists));\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return TodoListModel;\n}());\nexport default TodoListModel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/model/todo_list_model.ts\n// module id = 9\n// module chunks = 0","import { TodoItem } from './todo_item';\nvar TodoItemModel = /** @class */ (function () {\n    function TodoItemModel(name) {\n        this.itemList = [];\n        this.modelName = name;\n        this.setup();\n    }\n    TodoItemModel.prototype.setup = function () {\n        this.load();\n    };\n    TodoItemModel.prototype.add = function (title) {\n        if (!this.info(title).find) {\n            var item = new TodoItem(title);\n            this.itemList.push(item);\n            this.save();\n        }\n    };\n    TodoItemModel.prototype.info = function (name) {\n        for (var i = 0; i < this.itemList.length; i++) {\n            if (this.itemList[i].title === name) {\n                return {\n                    find: true,\n                    index: i,\n                };\n            }\n        }\n        return { find: false };\n    };\n    TodoItemModel.prototype.toggle = function (name) {\n        var info = this.info(name);\n        if (info.find) {\n            var item = this.itemList[info.index];\n            item.toggleStatus();\n            this.save();\n        }\n    };\n    TodoItemModel.prototype.remove = function (title) {\n        var info = this.info(title);\n        if (!info.find) {\n            return false;\n        }\n        this.itemList.splice(info.index, 1);\n        this.save();\n        return true;\n    };\n    TodoItemModel.prototype.clear = function () {\n        this.itemList = [];\n        this.save();\n    };\n    TodoItemModel.prototype.save = function () {\n        var data = {\n            'todos': this.itemList\n        };\n        localStorage.setItem(this.modelName, JSON.stringify(data));\n    };\n    TodoItemModel.prototype.load = function () {\n        var data = localStorage.getItem(this.modelName);\n        if (data === null) {\n            this.itemList = [];\n            this.save();\n        }\n        else {\n            var todos = JSON.parse(data).todos;\n            for (var _i = 0, todos_1 = todos; _i < todos_1.length; _i++) {\n                var todo = todos_1[_i];\n                var t = JSON.parse(todo);\n                var item = new TodoItem(t.name, t.done, t.date);\n                this.itemList.push(item);\n            }\n        }\n    };\n    TodoItemModel.prototype.deleteModel = function () {\n        localStorage.removeItem(this.modelName);\n    };\n    Object.defineProperty(TodoItemModel.prototype, \"items\", {\n        get: function () {\n            var result = [];\n            for (var _i = 0, _a = this.itemList; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var face = {\n                    name: item.title,\n                    done: item.isFinished,\n                    date: item.createTime,\n                };\n                result.push(face);\n            }\n            return result;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TodoItemModel.prototype, \"numberOfItems\", {\n        get: function () {\n            return this.itemList.length;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TodoItemModel.prototype.getItem = function (title) {\n        var info = this.info(title);\n        if (info.find) {\n            var index = info.index;\n            return {\n                name: this.itemList[index].title,\n                done: this.itemList[index].isFinished,\n                date: this.itemList[index].createTime,\n            };\n        }\n        return null;\n    };\n    return TodoItemModel;\n}());\nexport default TodoItemModel;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/model/todo_item_model.ts\n// module id = 10\n// module chunks = 0","var TodoItem = /** @class */ (function () {\n    function TodoItem(title, done, date) {\n        if (done === void 0) { done = false; }\n        if (date === void 0) { date = new Date().toLocaleString(); }\n        this.itemName = title;\n        this.isDone = done;\n        this.date = new Date().toLocaleString();\n    }\n    Object.defineProperty(TodoItem.prototype, \"title\", {\n        get: function () {\n            return this.itemName;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TodoItem.prototype, \"isFinished\", {\n        get: function () {\n            return this.isDone;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(TodoItem.prototype, \"createTime\", {\n        get: function () {\n            return this.date;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    TodoItem.prototype.toggleStatus = function () {\n        this.isDone = !this.isDone;\n    };\n    TodoItem.prototype.equal = function (item) {\n        return this.itemName === item.itemName;\n    };\n    TodoItem.prototype.toJSON = function () {\n        var value = {\n            name: this.itemName,\n            done: this.isDone,\n            date: this.date,\n        };\n        return JSON.stringify(value);\n    };\n    return TodoItem;\n}());\nexport { TodoItem };\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/model/todo_item.ts\n// module id = 11\n// module chunks = 0"],"sourceRoot":""}